<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konspirační teorie — Článek</title>
    <link rel="stylesheet" href="../../normalize.css">
    <link rel="stylesheet" href="./konspir.css">
</head>
<body>
    <header>
        <a href="./konspirmain.html" class="return-button">
            <img src="../images/iluminaty.webp" alt="Zpět" class="return-image">
        </a>
    </header>

    <main id="newsContent" class="container">
        <!-- Article content will be inserted here by JS -->
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const newsIndex = parseInt(urlParams.get('newsIndex'), 10);
            const newsContent = document.getElementById('newsContent');
            fetch('./newsData.json')
                .then(res => res.json())
                .then(data => {
                    if (!isNaN(newsIndex) && Array.isArray(data) && data[newsIndex]) {
                        const newsItem = data[newsIndex];
                        newsContent.innerHTML = `
                            <h2>${newsItem.title}</h2>
                            <p>${newsItem.content}</p>
                        `;
                    } else {
                        newsContent.innerHTML = '<p>Článek nebyl nalezen.</p>';
                    }
                })
                .catch(err => {
                    console.error('Error loading news data:', err);
                    newsContent.innerHTML = '<p>Článek nebyl nalezen.</p>';
                });
        });
    </script>
</body>
</html>