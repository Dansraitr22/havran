<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konspirační teorie — Hlavní stránka</title>
    <link rel="stylesheet" href="../../normalize.css">
    <link rel="stylesheet" href="./konspir.css">
</head>
<body>
    <header>
        <h1>Konspirační teorie</h1>
    </header>
    <main id="konspiraNewsLinks"></main>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const konspiraNewsLinks = document.getElementById('konspiraNewsLinks');
            const API_BASE = window.SERVER_BASE || '';
            const load = async () => {
                try {
                    let res = await fetch(API_BASE + '/api/konspira');
                    if (!res.ok) res = await fetch('./newsData.json');
                    const data = await res.json();
                    if (konspiraNewsLinks && Array.isArray(data)) {
                        data.forEach((news, index) => {
                            const newsElement = document.createElement('div');
                            newsElement.className = 'news-item';
                            newsElement.innerHTML = `
                                <h2><a href="./newsTemplate.html?newsIndex=${index}">${news.title}</a></h2>
                                <p>${(news.content||'').substring(0, 100)}...</p>
                            `;
                            konspiraNewsLinks.appendChild(newsElement);
                        });
                    }
                } catch (err) {
                    console.error('Error loading news data:', err);
                }
            };
            load();
        });
    </script>
</body>
</html>
<style>
    .return-gogol{position:fixed;right:16px;bottom:16px;background:rgba(32,32,32,.9);color:#fff;text-decoration:none;padding:8px 12px;border-radius:18px;font-size:14px;line-height:1;box-shadow:0 2px 8px rgba(0,0,0,.2);z-index:9999;opacity:.9}
    .return-gogol:hover{opacity:1}
    @media (max-width:480px){.return-gogol{right:10px;bottom:10px;padding:7px 10px;font-size:13px}}
</style>
<a class="return-gogol" href="../../index.html" title="Zpět na Gogol">← Zpět na Gogol</a>